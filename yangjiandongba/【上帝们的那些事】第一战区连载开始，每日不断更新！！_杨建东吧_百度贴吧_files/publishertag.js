// bbb32b818c24c197b4f40af43da15fea3a1bf8e0:released
var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a){this.name=a}return a.prototype.eval=function(a){},a}();a.AbstractEvent=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";function b(a){"undefined"!=typeof console&&console.log("PubTag [DEBUG]:"+a)}function c(a){"undefined"!=typeof console&&console.log("PubTag [WARNING]:"+a)}function d(a){"undefined"!=typeof console?console.log("PubTag [ERROR]:"+a):alert("PubTag [ERROR]:"+a)}a.Debug=b,a.Warning=c,a.Error=d}(b=a.Log||(a.Log={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this._allowedPixelLoaded=!1,this._blockedPixelFailed=!1}return a.prototype.isAdBlocked=function(b,c){var d=this,e="https:"===b?"https:":"http:",f=e+a.allowedPixelUrl,g=e+a.blockedPixelUrl;this.createPixel(f,function(){d._allowedPixelLoaded=!0,d._blockedPixelFailed===!0&&c(!0)},function(){}),this.createPixel(g,function(){c(!1)},function(){d._blockedPixelFailed=!0,d._allowedPixelLoaded===!0&&c(!0)})},a.prototype.createPixel=function(a,b,c){var d=document.getElementsByTagName("script")[0],e=document.createElement("img");e.src=a,e.height=1,e.width=1,e.style.display="none",e.onload=b,e.onerror=c,"HTMLImageElement"==typeof e&&d.parentNode.insertBefore(e,d)},a.allowedPixelUrl="//static.criteo.net/images/pixel.gif?ch=1",a.blockedPixelUrl="//static.criteo.net/images/pixel.gif?ch=2",a}();a.AdBlocker=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this._url=a,this._data=b}return a.prototype.send=function(a,b,c){var d=void 0!==this._data?"POST":"GET",e=this.getXMLHttpRequest(d,a,b,c);if(void 0!==e)e.send(this._data);else{var f=this.getXDomainRequest(d,a,b,c);void 0!==f&&f.send(this._data)}},a.prototype.getXMLHttpRequest=function(b,c,d,e){var f=new XMLHttpRequest;if("withCredentials"in f)return f.open(b,this._url,!0),f.timeout=a.LOCAL_PASSBACK_TIMEOUT,"POST"===b&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.withCredentials=!0,f.onload=function(){4===f.readyState&&200===f.status?c(f.responseText):d(f.readyState,f.status)},f.ontimeout=e,f},a.prototype.getXDomainRequest=function(b,c,d,e){if("undefined"!=typeof XDomainRequest){var f=new XDomainRequest;return f.timeout=a.LOCAL_PASSBACK_TIMEOUT,f.open(b,this._url),f.onload=function(){void 0!==f.responseText?c(f.responseText):d(void 0,void 0)},f.ontimeout=e,f}},a.LOCAL_PASSBACK_TIMEOUT=3e4,a}();a.AsyncRequest=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c,d,e){a.call(this,b.NAME),this._condition=c,this._eventIfTrue=d,this._eventIfFalse=e}return __extends(b,a),b.prototype.eval=function(a){this._condition.apply(this)?this._eventIfTrue.eval(a):this._eventIfFalse.eval(a)},b.NAME="conditionalEvent",b}(a.AbstractEvent);a.ConditionalEvent=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.charset=a.charset?a.charset:a.characterSet?a.characterSet:"",this.highestAccessibleUrl=this.getHighestAccessibleUrl(b),this.location=b.location,this.protocol=b.location.protocol,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0}return a.prototype.getHighestAccessibleUrl=function(a){var b=this.getHighestAccessibleWindow(a),c=b.topFrame,d=b.err,e="";if(d)try{if(e=c.top.location.href,!e){var f=c.location.ancestorOrigins;e=f[f.length-1]}}catch(g){e=c.document.referrer}else e=c.location.href;return e},a.prototype.getHighestAccessibleWindow=function(a){var b=window,c=!1;try{for(;b.parent.document!==b.document;){if(!b.parent.document){c=!0;break}b=b.parent}}catch(d){c=!0}return{topFrame:b,err:c}},a}();a.Context=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c){a.call(this,b.NAME),this._function=c}return __extends(b,a),b.prototype.eval=function(a){this._function&&this._function.apply(this)},b.NAME="genericEvent",b}(a.AbstractEvent);a.Custom=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";var b=function(){function b(){this._canProcessConditionalEvents=void 0,this._events=[],this.context=new a.PubTag.Context(document,window),this._adblocker=new a.PubTag.AdBlocker,a.Log.Debug("Publisher Tag loaded")}return b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];for(var c=0;c<a.length;++c){var d=a[c];this._events.push(d)}this.evalEvents()},b.prototype.checkAdblocker=function(){if(void 0===this._canProcessConditionalEvents){var a=this;this._canProcessConditionalEvents=!1,this._adblocker.isAdBlocked(this.context.protocol,function(b){a.context.isAdBlocked=b,a._canProcessConditionalEvents=!0,a.evalEvents()})}},b.prototype.evalEvents=function(){for(var b=0;b<this._events.length;)if(this._events[b]instanceof a.PubTag.Event.ConditionalEvent&&this._canProcessConditionalEvents===!1)b++;else{var c=this._events.splice(b,1);c[0].eval(this)}},b.VERSION=4,b}();a.PublisherTag=b}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.AFR=0]="AFR",a[a.AJS=1]="AJS"}(a.HandlerType||(a.HandlerType={}));a.HandlerType}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(b){this.zoneid=void 0,this.async=void 0,this.containerid=void 0,this.width=void 0,this.height=void 0,this.callbackSuccess=void 0,this.callbackError=void 0,this.callIfNotAdblocked=void 0,this.passbackCode=void 0,this.publisherUrl=void 0,this.overridenWpdt0=void 0,this.overridenCt0=void 0,this.layout=void 0,this.overrideZoneFloor=!0,this.collapseContainerIfNotAdblocked=!0,this.extraData={};var c;for(c in b)if(void 0!==b[c])switch(c.toLowerCase()){case"zoneid":this.zoneid=parseInt(b[c],void 0);break;case"async":this.async=b[c]===!0;break;case"containerid":this.containerid=b[c];break;case"width":this.width=b[c];break;case"height":this.height=b[c];break;case"callbacksuccess":this.callbackSuccess=b[c];break;case"callbackerror":this.callbackError=b[c];break;case"callifnotadblocked":this.callIfNotAdblocked=b[c];break;case"passbackcode":this.passbackCode=b[c];break;case"layout":case"publishercreativeconfiguration":this.layout=b[c];break;case"extradata":this.extraData=b[c];break;case"publisherurl":this.publisherUrl=b[c];break;case"wpdt0":this.overridenWpdt0=b[c];break;case"ct0":this.overridenCt0=b[c];break;case"overridezonefloor":this.overrideZoneFloor=b[c];break;case"collapsecontainerifnotadblocked":this.collapseContainerIfNotAdblocked=b[c];break;default:a.Log.Error("Unknown parameter : "+c)}}return b}();b.DisplayInputParameters=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function c(){}return c.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},c.prototype.buildUrl=function(d,e,f,g,h){var i;i=f===b.HandlerType.AFR?c.CAS_URL_AFR:c.CAS_URL_AJS;var j="https:"===e.protocol?"https:":"http:",k=j+i+"?ptv="+a.PublisherTag.VERSION;if(e.isAdBlocked===!0){var l=this.getAbpParameter(d,e);k+="&abp="+String(l)}f!==b.HandlerType.AFR&&(k+=void 0!==d.containerid&&""!==d.containerid?"&containerid="+encodeURIComponent(d.containerid):""),k+="&zoneid="+String(d.zoneid),k+=g?"&width="+g:"",k+=h?"&height="+h:"",k+="&cb="+String(c.getRandomNumber()),k+="&nodis="+(e.dising?"0":"1"),k+=e.charset?"&charset="+e.charset:"",k+=d.overridenCt0?"&ct0="+encodeURIComponent(d.overridenCt0):e.ct0?"&ct0="+encodeURIComponent(e.ct0):"",k+=d.overridenWpdt0?"&wpdt0="+encodeURIComponent(d.overridenWpdt0):e.wpdt0?"&wpdt0="+encodeURIComponent(e.wpdt0):"",k+=d.publisherUrl?"&publisherurl="+encodeURIComponent(d.publisherUrl):"";for(var m in d.extraData)void 0!==d.extraData[m]&&(k+="&"+m+"="+encodeURIComponent(d.extraData[m]));return k+=d.passbackCode?"&dlp=1":"",k+=e.highestAccessibleUrl?"&loc="+encodeURIComponent(e.highestAccessibleUrl).substring(0,1600):""},c.prototype.getAbpParameter=function(a,b){var c=b.isAdBlocked?1:0,d=a.overrideZoneFloor?0:2;return c|d},c.CAS_URL_AJS="//cas.criteo.com/delivery/ajs.php",c.CAS_URL_AFR="//cas.criteo.com/delivery/afr.php",c}();b.DisplayUrlBuilder=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(a){function b(b,c,d){a.call(this,b),this._displayParameters=d,this._urlBuilder=c}return __extends(b,a),b.prototype.eval=function(a){},b.prototype.buildCasUrl=function(a,b,c,d){return this._urlBuilder.buildUrl(this._displayParameters,a,b,c,d)},b}(a.PubTag.Event.AbstractEvent);b.DisplayEvent=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,d){b.call(this,c.NAME,a,d)}return __extends(c,b),c.prototype.eval=function(c){var d=this._displayParameters.containerid,e=this._displayParameters.callbackSuccess,f=this._displayParameters.callbackError;b.prototype.eval.call(this,c);var g=this.buildCasUrl(c.context,a.HandlerType.AFR);this.loadIframe(g,d,e,f)},c.prototype.loadIframe=function(a,b,c,d){var e=document.createElement("iframe");e.src=a,e.id="cto_iframe",e.frameBorder="0",e.hspace=0,e.vspace=0,e.marginWidth="0px",e.marginHeight="0px",e.width="100%",e.height="100%",e.scrolling="no",e.onload=c,e.onerror=d;var f=document.getElementById(b);f.appendChild(e)},c.NAME="displayAfr",c}(a.DisplayEvent);a.DisplayEventAFR=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var Display;!function(Display){"use strict";var DisplayEventAsync=function(_super){function DisplayEventAsync(a,b){_super.call(this,DisplayEventAsync.NAME,a,b)}return __extends(DisplayEventAsync,_super),DisplayEventAsync.prototype.eval=function(a){var b=this;_super.prototype.eval.call(this,a);var c=this._displayParameters.containerid,d=this._displayParameters.width,e=this._displayParameters.height,f=this._displayParameters.layout,g=this._displayParameters.callbackSuccess,h=this._displayParameters.callbackError,i=this._displayParameters.passbackCode;if(""===c||void 0===c)Criteo.Log.Error("No containerid provided");else if(void 0!==f){var j=DisplayEventAsync.CHAPI_NAME+"="+encodeURIComponent(JSON.stringify(f)),k=function(){var f=b.getContainerSize(c,d,e),k=b.buildCasUrl(a.context,void 0,f.width,f.height);b.loadScriptAsync(k,j,g,h,i)};void 0!==d&&void 0!==e?k():window.addEventListener?window.addEventListener("load",k,!1):window.attachEvent("onload",k)}else{var l=this.buildCasUrl(a.context);this.loadScriptAsync(l,void 0,g,h,i)}},DisplayEventAsync.prototype.loadScriptAsync=function(url,data,callBackSuccess,callbackFail,passbackCode){var request=new Criteo.PubTag.AsyncRequest(url,data);request.send(function(responseText){var pb=passbackCode?passbackCode:function(){};eval(responseText),void 0!==callBackSuccess&&callBackSuccess(responseText)},function(a,b){void 0!==passbackCode&&passbackCode(),void 0!==callbackFail&&callbackFail(a,b)},passbackCode)},DisplayEventAsync.prototype.getContainerSize=function(a,b,c){var d=document.getElementById(a),e=this.inIframe(),f=b?b:e?document.body.offsetWidth:d.offsetWidth,g=c?c:e?document.body.offsetHeight:d.offsetHeight;return 0!==g&&0!==f||(g=void 0,f=void 0),{width:f,height:g}},DisplayEventAsync.prototype.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}},DisplayEventAsync.NAME="displayEventAsync",DisplayEventAsync.CHAPI_NAME="publisherCreativeConfiguration",DisplayEventAsync}(Display.DisplayEvent);Display.DisplayEventAsync=DisplayEventAsync}(Display=PubTag.Display||(PubTag.Display={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;if(function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c,d){a.call(this,b.NAME,c,d)}return __extends(b,a),b.prototype.eval=function(b){a.prototype.eval.call(this,b);var c=this.buildCasUrl(b.context);this.loadScriptSync(c)},b.prototype.loadScriptSync=function(a){document.write("<script type='text/javascript' src='"+a+"'></script>")},b.NAME="displaySync",b}(a.DisplayEvent);a.DisplayEventSync=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={})),!window.criteo_pubtag||window.criteo_pubtag instanceof Array){var oldQueuePub=window.criteo_pubtag||[];window.criteo_pubtag=new Criteo.PublisherTag,window.criteo_pubtag.push.apply(window.criteo_pubtag,oldQueuePub)}var Criteo;!function(a){"use strict";function b(b){var c=new a.PubTag.Display.DisplayInputParameters(b);if(c.async=c.async!==!1,void 0===c.zoneid)return void a.Log.Error("missing parameter 'zoneid'");if(void 0!==c.layout&&c.async===!1)return void a.Log.Error("Criteo hosted ads only work in async mode");if(c.async===!0&&(void 0===c.containerid||""===c.containerid))return void a.Log.Error("missing parameter 'containerid' for an async display");var d;d=c.async?new a.PubTag.Display.DisplayEventAsync(new a.PubTag.Display.DisplayUrlBuilder,c):new a.PubTag.Display.DisplayEventSync(new a.PubTag.Display.DisplayUrlBuilder,c),window.criteo_pubtag.push(d)}function c(b){var c=new a.PubTag.Display.DisplayInputParameters(b);if(void 0===c.zoneid)return void a.Log.Error("missing parameter 'zoneid'");if(void 0===c.containerid||""===c.containerid)return void a.Log.Error("missing parameter 'containerid' to display acceptable ads");if(!d(document.getElementById(c.containerid)))return void a.Log.Error("can't display acceptable ad : the container \""+c.containerid+'" is not visible');window.criteo_pubtag.checkAdblocker();var e;e=new a.PubTag.Display.DisplayEventAFR(new a.PubTag.Display.DisplayUrlBuilder,c);var f;f=new a.PubTag.Event.Custom(function(){if(c.collapseContainerIfNotAdblocked){var a=document.getElementById(c.containerid);a.style.display="none"}void 0!==c.callIfNotAdblocked&&c.callIfNotAdblocked()});var g,h=function(){return window.criteo_pubtag.context.isAdBlocked===!0};g=new a.PubTag.Event.ConditionalEvent(h,e,f),window.criteo_pubtag.push(g)}function d(a){if(a===document)return!0;if(!a)return!1;if(!a.parentNode)return!1;if(a.style){if("none"===a.style.display)return!1;if("hidden"===a.style.visibility)return!1}if(window.getComputedStyle){var b=window.getComputedStyle(a,"");if("none"===b.display)return!1;if("hidden"===b.visibility)return!1}var c=a.currentStyle;if(c){if("none"===c.display)return!1;if("hidden"===c.visibility)return!1}return d(a.parentNode)}a.DisplayAd=b,a.DisplayAcceptableAdIfAdblocked=c}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(b){this.networkId=void 0,this.crtgContentName=void 0,this.crtgRtaCookieName=void 0;var c;for(c in b)if(void 0!==b[c])switch(c.toLowerCase()){case"networkid":this.networkId=parseInt(b[c],void 0);break;case"varname":this.crtgContentName=b[c];break;case"cookiename":this.crtgRtaCookieName=b[c];break;default:a.Log.Warning("Unknown parameter "+c)}}return b}();b.RtaParameters=c}(c=b.RTA||(b.RTA={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){}return b.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},b.prototype.buildUrl=function(c,d,e,f){var g="https:"===d.protocol?"https:":"http:",h=g+b.RTA_URL+"?ptv="+a.PublisherTag.VERSION;return d.isAdBlocked===!0&&(h+="&abp=1"),h+="&netid="+String(c),h+=e?"&cookieName="+encodeURIComponent(e):"",h+=f?"&varName="+encodeURIComponent(f):"",h+="&rnd="+String(b.getRandomNumber())},b.RTA_URL="//rtax.criteo.com/delivery/rta/rta.js",b}();b.RtaUrlBuilder=c}(c=b.RTA||(b.RTA={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var RTA;!function(RTA){"use strict";var RtaEvent=function(_super){function RtaEvent(a,b){_super.call(this,RtaEvent.NAME),this.urlBuilder=a,this.parameters=b}return __extends(RtaEvent,_super),RtaEvent.prototype.eval=function(a){_super.prototype.eval.call(this,a);var b=this.urlBuilder.buildUrl(this.parameters.networkId,a.context,this.parameters.crtgRtaCookieName,this.parameters.crtgContentName),c=new Criteo.PubTag.AsyncRequest(b),d=function(a,c){return Criteo.Log.Error("An error occured while calling "+b)};c.send(this.executeScript,d)},RtaEvent.prototype.executeScript=function(responseText){eval(responseText)},RtaEvent.NAME="rtaEvent",RtaEvent}(Criteo.PubTag.Event.AbstractEvent);RTA.RtaEvent=RtaEvent}(RTA=PubTag.RTA||(PubTag.RTA={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";function b(b){var d=new a.PubTag.RTA.RtaParameters(b);if(void 0===d.networkId)return void a.Log.Error("missing parameter 'networkid'");var e=d.crtgContentName?d.crtgContentName:"crtg_content",f=d.crtgRtaCookieName?d.crtgRtaCookieName:"crtg_rta";window[e]=c(f);var g=new a.PubTag.RTA.RtaEvent(new a.PubTag.RTA.RtaUrlBuilder,d);window.criteo_pubtag.push(g)}function c(a){for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c],e=d.substr(0,d.indexOf("=")),f=d.substr(d.indexOf("=")+1);if(e=e.replace(/^\s+|\s+$/g,""),e===a)return decodeURIComponent(f)}return""}a.CallRTA=b}(Criteo||(Criteo={}));